<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exposure Rate Calculator</title>
    <link rel="stylesheet" href="../css/exposureCalculator.css">
    <link rel="stylesheet" href="../css/noHorizontalScroll.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="headerLeft">Dose Rate Calculator (Xdot)</div>
        <div class="headerRight"><img src="../img/radioactive.png" alt="radiation"></div>
    </header>
    <main class="main">
        <!-- Nuclide Selection Section -->
        <div class="dataContainer">
            <label for="nuclideSelect">Select Radionuclides (multi-select for mixtures):</label>
            <select name="nuclides" id="nuclideSelect" multiple size="4">
                <option value="TC99M">Tc-99m</option>
                <option value="I131">I-131</option>
                <option value="CS137">Cs-137</option>
                <option value="CO60">Co-60</option>
                <option value="IR192">Ir-192</option>
                <option value="AM241">Am-241</option>
                <option value="CO57">Co-57</option>
                <option value="NA22">Na-22</option>
            </select>
            <p>Hold Ctrl/Cmd to select multiple. Gamma constants fetched from IAEA API.</p>
        </div>

        <!-- Activity Inputs Section (Dynamic per selected nuclide) -->
        <div class="dataContainer">
            <label>Activity per Isotope (mCi):</label>
            <div id="activityInputs">
                <!-- Dynamic inputs added by JS -->
                <p>Select nuclides above to add activity inputs.</p>
            </div>
        </div>

        <!-- Shared Parameters Section -->
        <div class="dataContainer">
            <label for="distance">Distance (cm):</label>
            <input type="number" id="distance" name="distance" placeholder="100" min="1" step="0.1" inputmode="decimal">
            <label for="mu">Attenuation Coefficient (μ/cm):</label>
            <input type="number" id="mu" name="mu" value="0.0001" min="0" step="0.000001" inputmode="decimal">
            <p>Default μ = 0.0001 for air. Adjust for other materials.</p>
        </div>

        <!-- Output Section -->
        <div class="dataContainer">
            <label>Total Dose Rate (Ẋ):</label>
            <div class="resultArea">
                <output id="xdotResult">0</output>
                <span class="units">R/h</span>
            </div>
            <p>Formula: Ẋ = Σ [(Gamma * A) / (4 * π * r²) * exp(-μ * r)] for each isotope.</p>
        </div>

        <!-- Calculate Button -->
        <div class="dataContainer">
            <button id="calculateBtn">Calculate Ẋ</button>
        </div>
    </main>
    <footer class="footer">
        <div class="footerLeft">Developed by Jesus Arias Estrada and Sergio Arturo Enriquez Nava</div>
        <div class="footerRight">Copyright 2025</div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../js/exposureCalculator.js"></script>
</body>
</html>